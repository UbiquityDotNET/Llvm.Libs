# Source folder
This folder contains the source code to the multiple projects used in producing the
packages for the native code Extended LLVM-C API (Ubiqutiy.NET.LibLLVM [or just LibLLVM]).

## LIBLLVM
This contains the source and build projects for the dynamic library itself.

Currently this is done once per rid + additional target so that it creates ~20 packages for
each runtime. Though there are some ideas on how to update the build so that this is only
done once per rid...

## LIBLLVMNuget
This project us used to create a NUGET package for the dynamic library. This has a hard
dependency on the output of the LIBLLVM project. In automated builds, this runs immediately
after the creation of the dynamic library itself.

Currently this is done once per rid + additional target so that it creates ~20 packages for
each runtime. Though there are some ideas on how to update the build so that this is only
done once per rid...

## LibLLVMNugetMetaPackage
This project is used to create a "metapackage" for each supported runtime. Even though this
references the packages built elsewhere it does not require the actual binaries and can
therefore operate in parallel. This allows consumers to directly reference only this one
pacage per runtime. (Ultimately, an "Uber" package could refer to all the RID specific
ones...).

## LLvmBindingsGenerator
This is the "source generator" the name is a bit misleading due to history. It's role now
is simply two fold:
1) For Windows builds, generates the EXPORTS.DEF file to mark the APIs exported by this
   library.
    1) On windows the default visibility of a function is "private" and therefore an
       explicit declaration is needed for consumers to see it.
2) Independent of runtime/targets there are many HANDLE types (Opaque struct pointers in
   LLVM-C headers) that the interop code needs to know about. These are generated by this
   app following common patterns in templates. This is completely independent of all runtime
   and target dependencies (It really only depends on the LLVM and LIBLLVM headers)

## Ubiquity.NET.LlvmInterop.Handles
This is the projct used to package the generated handle source as a "source only" NuGet
package for use by the interop code. This is done as a distinct package to allow auto
generation of the handle wrappers for a given LLVM+LIBLLVM version only once.
